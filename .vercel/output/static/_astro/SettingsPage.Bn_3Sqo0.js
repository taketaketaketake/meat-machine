import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as a}from"./index.D_OVTONV.js";import{s as y}from"./supabase.dDYqcIGq.js";import{u as _,P as E,c as P,B as g}from"./index.Chm2F-K4.js";import{L as m,I as w}from"./label.DcM7DuCr.js";import{T as L}from"./textarea.AOV4mYqB.js";import{u as D,c as q,a as H,b as O}from"./index.ffkra7HD.js";import{u as W}from"./index.Dvr77psn.js";import"./index.WI6tYfCw.js";var N="Switch",[z,le]=q(N),[$,V]=z(N),B=a.forwardRef((s,n)=>{const{__scopeSwitch:t,name:r,checked:o,defaultChecked:x,required:h,disabled:c,value:l="on",onCheckedChange:f,form:i,...d}=s,[u,p]=a.useState(null),S=_(n,b=>p(b)),C=a.useRef(!1),k=u?i||!!u.closest("form"):!0,[j,I]=D({prop:o,defaultProp:x??!1,onChange:f,caller:N});return e.jsxs($,{scope:t,checked:j,disabled:c,children:[e.jsx(E.button,{type:"button",role:"switch","aria-checked":j,"aria-required":h,"data-state":F(j),"data-disabled":c?"":void 0,disabled:c,value:l,...d,ref:S,onClick:H(s.onClick,b=>{I(U=>!U),k&&(C.current=b.isPropagationStopped(),C.current||b.stopPropagation())})}),k&&e.jsx(A,{control:u,bubbles:!C.current,name:r,value:l,checked:j,required:h,disabled:c,form:i,style:{transform:"translateX(-100%)"}})]})});B.displayName=N;var R="SwitchThumb",T=a.forwardRef((s,n)=>{const{__scopeSwitch:t,...r}=s,o=V(R,t);return e.jsx(E.span,{"data-state":F(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:n})});T.displayName=R;var X="SwitchBubbleInput",A=a.forwardRef(({__scopeSwitch:s,control:n,checked:t,bubbles:r=!0,...o},x)=>{const h=a.useRef(null),c=_(h,x),l=W(t),f=O(n);return a.useEffect(()=>{const i=h.current;if(!i)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==t&&p){const S=new Event("click",{bubbles:r});p.call(i,t),i.dispatchEvent(S)}},[l,t,r]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:c,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});A.displayName=X;function F(s){return s?"checked":"unchecked"}var M=B,Z=T;const v=a.forwardRef(({className:s,...n},t)=>e.jsx(M,{className:P("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...n,ref:t,children:e.jsx(Z,{className:P("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));v.displayName=M.displayName;const G=[{id:"profile",name:"Profile"},{id:"account",name:"Account"},{id:"notifications",name:"Notifications"},{id:"billing",name:"Billing"}];function de(){const[s,n]=a.useState("profile"),t=()=>{switch(s){case"profile":return e.jsx(J,{});case"account":return e.jsx(K,{});case"notifications":return e.jsx(Q,{});case"billing":return e.jsx(Y,{});default:return null}};return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("header",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-black text-white",children:"Settings"}),e.jsx("p",{className:"text-lg text-gray-400 mt-1",children:"Manage your account and site preferences."})]}),e.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[e.jsx("aside",{className:"lg:col-span-1",children:e.jsx("nav",{className:"sticky top-24 space-y-1",children:G.map(r=>e.jsx("button",{onClick:()=>n(r.id),className:`w-full text-left px-4 py-2 text-sm font-medium rounded-lg transition-colors ${s===r.id?"bg-gray-800 text-white":"text-gray-400 hover:bg-gray-800/50 hover:text-white"}`,children:r.name},r.id))})}),e.jsx("main",{className:"lg:col-span-3",children:e.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6 md:p-8",children:t()})})]})]})}const J=()=>{const[s,n]=a.useState(!0),[t,r]=a.useState({username:"",bio:"",donation_url:""}),[o,x]=a.useState(""),[h,c]=a.useState("");a.useEffect(()=>{(async()=>{const{data:{user:d}}=await y.auth.getUser();if(d){const{data:u,error:p}=await y.from("profiles").select("*").eq("id",d.id).single();p?c("Could not fetch your profile."):u&&r({username:u.username||"",bio:u.bio||"",donation_url:u.donation_url||""})}n(!1)})()},[]);const l=i=>{r({...t,[i.target.id]:i.target.value})},f=async()=>{n(!0),x(""),c("");const{data:{user:i}}=await y.auth.getUser();if(i){const{error:d}=await y.from("profiles").update({username:t.username,bio:t.bio,donation_url:t.donation_url}).eq("id",i.id);d?c(d.message):x("Profile saved successfully!")}n(!1)};return s&&!t.username?e.jsx("p",{className:"text-gray-400",children:"Loading profile..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Public Profile"}),e.jsx("p",{className:"text-gray-400",children:"This information will be displayed publicly on your profile page."}),e.jsxs("div",{className:"pt-6 border-t border-gray-800 space-y-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"username",children:"Username"}),e.jsx(w,{id:"username",value:t.username,onChange:l,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"bio",children:"Bio"}),e.jsx(L,{id:"bio",value:t.bio,onChange:l,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"donation_url",children:"Donation Link (e.g., Buy Me a Coffee)"}),e.jsx(w,{id:"donation_url",type:"url",value:t.donation_url,onChange:l,placeholder:"https://...",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Avatar"}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-700 flex items-center justify-center text-3xl",children:"ðŸ”®"}),e.jsx(g,{variant:"outline",children:"Upload New"})]})]})]}),o&&e.jsx("p",{className:"text-sm text-green-400",children:o}),h&&e.jsx("p",{className:"text-sm text-red-400",children:h}),e.jsx("div",{className:"pt-4 border-t border-gray-800 flex justify-end",children:e.jsx(g,{onClick:f,disabled:s,children:s?"Saving...":"Save Profile"})})]})},K=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Account Settings"}),e.jsx("p",{className:"text-gray-400",children:"Manage your login credentials and account security."}),e.jsxs("div",{className:"pt-6 border-t border-gray-800 space-y-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"email",children:"Email Address"}),e.jsx(w,{id:"email",type:"email",defaultValue:"pixel.prophet@example.com",className:"mt-1",readOnly:!0})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"new-password",children:"New Password"}),e.jsx(w,{id:"new-password",type:"password",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",className:"mt-1"})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-800 flex justify-end",children:e.jsx(g,{children:"Update Account"})}),e.jsxs("div",{className:"pt-6 border-t border-red-500/30",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-400",children:"Danger Zone"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Deleting your account is permanent and cannot be undone."}),e.jsx(g,{variant:"destructive",className:"mt-4",children:"Delete Account"})]})]}),Q=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Notifications"}),e.jsx("p",{className:"text-gray-400",children:"Choose how you want to be notified."}),e.jsxs("div",{className:"pt-6 border-t border-gray-800 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"comments-notification",children:"Comments"}),e.jsx("p",{className:"text-sm text-gray-500",children:"When someone comments on your creations."})]}),e.jsx(v,{id:"comments-notification",defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"follows-notification",children:"New Followers"}),e.jsx("p",{className:"text-sm text-gray-500",children:"When a new user follows you."})]}),e.jsx(v,{id:"follows-notification",defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"newsletter-notification",children:"Weekly Newsletter"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Our roundup of the best new content."})]}),e.jsx(v,{id:"newsletter-notification"})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-800 flex justify-end",children:e.jsx(g,{children:"Save Preferences"})})]}),Y=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Billing"}),e.jsx("p",{className:"text-gray-400",children:"Manage your subscriptions and payment methods."}),e.jsx("div",{className:"pt-6 border-t border-gray-800 text-center text-gray-500",children:e.jsx("p",{children:"(Billing and subscription management features are coming soon!)"})})]});export{de as default};
