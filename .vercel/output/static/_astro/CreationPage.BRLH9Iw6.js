import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r}from"./index.D_OVTONV.js";import{s as It}from"./supabase.dDYqcIGq.js";import{P,u as O,r as Fe,d as Pt,c as L,B as Ce}from"./index.Chm2F-K4.js";import{L as Q,I as we}from"./label.DcM7DuCr.js";import{T as je}from"./textarea.AOV4mYqB.js";import{u as Ne,c as Ve,a as N,e as K}from"./index.ffkra7HD.js";import{a as Be,g as He,i as _t,k as ue,c as Et,A as Rt,d as Mt,f as Dt,h as kt,u as At,R as Lt,F as Ot,D as Ft,C as Vt,j as Bt,b as Ue,e as Ht,I as Ut,P as $t}from"./index.Cp0GLKXi.js";import{u as zt}from"./index.Dvr77psn.js";import{c as Re}from"./createLucideIcon.K8NsQ2VB.js";import"./index.WI6tYfCw.js";/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Gt=Re("check",Wt);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$e=Re("chevron-down",Kt);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],qt=Re("chevron-up",Yt),ke=["image/jpeg","image/png","image/gif","video/mp4","audio/mpeg","audio/wav"];function Xt({onFileSelect:t}){const[n,o]=r.useState(!1),[a,l]=r.useState(null),[d,s]=r.useState(""),i=p=>{if(s(""),p){if(!ke.includes(p.type)){s("Invalid file type. Please upload an image, video, or audio file.");return}l(p),t(p)}},c=r.useCallback(p=>{p.preventDefault(),o(!0)},[]),u=r.useCallback(p=>{p.preventDefault(),o(!1)},[]),m=r.useCallback(p=>{if(p.preventDefault(),o(!1),p.dataTransfer.files&&p.dataTransfer.files.length>1){s("Please upload only one file at a time.");return}p.dataTransfer.files&&p.dataTransfer.files.length>0&&(i(p.dataTransfer.files[0]),p.dataTransfer.clearData())},[]),h=()=>{l(null),t(null),s("")};return a?e.jsxs("div",{className:"relative w-full rounded-lg border-2 border-gray-700 p-6 text-center bg-gray-900",children:[e.jsx("p",{className:"font-semibold text-white",children:"File Selected:"}),e.jsx("p",{className:"text-sm text-pink-400 mt-1 truncate",children:a.name}),e.jsx("button",{type:"button",onClick:h,className:"mt-4 text-xs font-semibold text-gray-400 hover:text-white",children:"Remove file"})]}):e.jsxs("div",{children:[e.jsxs("div",{onDragOver:c,onDragLeave:u,onDrop:m,className:`relative block w-full rounded-lg border-2 border-dashed p-12 text-center transition-colors ${n?"border-pink-500 bg-pink-500/10":"border-gray-700 hover:border-gray-500"}`,children:[e.jsx("input",{type:"file",id:"file-input",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:p=>i(p.target.files[0]),accept:ke.join(",")}),e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z"})}),e.jsx("label",{htmlFor:"file-input",className:"mt-4 block text-sm font-semibold text-white cursor-pointer",children:"Drag & drop your file here"}),e.jsx("span",{className:"mt-1 block text-xs text-gray-400",children:"or"}),e.jsx("label",{htmlFor:"file-input",className:"mt-2 text-sm font-semibold text-pink-500 hover:text-pink-400 cursor-pointer",children:"browse files"}),e.jsx("p",{className:"mt-4 text-xs text-gray-500",children:"Supports: JPG, PNG, MP4, MP3, WAV"})]}),d&&e.jsx("p",{className:"mt-2 text-sm text-red-400 text-center",children:d})]})}function Ae(t,[n,o]){return Math.min(o,Math.max(n,t))}var ze=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Zt="VisuallyHidden",Jt=r.forwardRef((t,n)=>e.jsx(P.span,{...t,ref:n,style:{...ze,...t.style}}));Jt.displayName=Zt;var Qt=[" ","Enter","ArrowUp","ArrowDown"],eo=[" ","Enter"],ee="Select",[pe,fe,to]=Et(ee),[ne,un]=Ve(ee,[to,Be]),me=Be(),[oo,Y]=ne(ee),[no,ro]=ne(ee),We=t=>{const{__scopeSelect:n,children:o,open:a,defaultOpen:l,onOpenChange:d,value:s,defaultValue:i,onValueChange:c,dir:u,name:m,autoComplete:h,disabled:p,required:C,form:j}=t,f=me(n),[v,S]=r.useState(null),[x,b]=r.useState(null),[$,M]=r.useState(!1),re=He(u),[_,k]=Ne({prop:a,defaultProp:l??!1,onChange:d,caller:ee}),[z,X]=Ne({prop:s,defaultProp:i,onChange:c,caller:ee}),F=r.useRef(null),V=v?j||!!v.closest("form"):!0,[W,B]=r.useState(new Set),H=Array.from(W).map(E=>E.props.value).join(";");return e.jsx(_t,{...f,children:e.jsxs(oo,{required:C,scope:n,trigger:v,onTriggerChange:S,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:$,onValueNodeHasChildrenChange:M,contentId:ue(),value:z,onValueChange:X,open:_,onOpenChange:k,dir:re,triggerPointerDownPosRef:F,disabled:p,children:[e.jsx(pe.Provider,{scope:n,children:e.jsx(no,{scope:t.__scopeSelect,onNativeOptionAdd:r.useCallback(E=>{B(A=>new Set(A).add(E))},[]),onNativeOptionRemove:r.useCallback(E=>{B(A=>{const U=new Set(A);return U.delete(E),U})},[]),children:o})}),V?e.jsxs(ft,{"aria-hidden":!0,required:C,tabIndex:-1,name:m,autoComplete:h,value:z,onChange:E=>X(E.target.value),disabled:p,form:j,children:[z===void 0?e.jsx("option",{value:""}):null,Array.from(W)]},H):null]})})};We.displayName=ee;var Ge="SelectTrigger",Ke=r.forwardRef((t,n)=>{const{__scopeSelect:o,disabled:a=!1,...l}=t,d=me(o),s=Y(Ge,o),i=s.disabled||a,c=O(n,s.onTriggerChange),u=fe(o),m=r.useRef("touch"),[h,p,C]=ht(f=>{const v=u().filter(b=>!b.disabled),S=v.find(b=>b.value===s.value),x=gt(v,f,S);x!==void 0&&s.onValueChange(x.value)}),j=f=>{i||(s.onOpenChange(!0),C()),f&&(s.triggerPointerDownPosRef.current={x:Math.round(f.pageX),y:Math.round(f.pageY)})};return e.jsx(Rt,{asChild:!0,...d,children:e.jsx(P.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":mt(s.value)?"":void 0,...l,ref:c,onClick:N(l.onClick,f=>{f.currentTarget.focus(),m.current!=="mouse"&&j(f)}),onPointerDown:N(l.onPointerDown,f=>{m.current=f.pointerType;const v=f.target;v.hasPointerCapture(f.pointerId)&&v.releasePointerCapture(f.pointerId),f.button===0&&f.ctrlKey===!1&&f.pointerType==="mouse"&&(j(f),f.preventDefault())}),onKeyDown:N(l.onKeyDown,f=>{const v=h.current!=="";!(f.ctrlKey||f.altKey||f.metaKey)&&f.key.length===1&&p(f.key),!(v&&f.key===" ")&&Qt.includes(f.key)&&(j(),f.preventDefault())})})})});Ke.displayName=Ge;var Ye="SelectValue",qe=r.forwardRef((t,n)=>{const{__scopeSelect:o,className:a,style:l,children:d,placeholder:s="",...i}=t,c=Y(Ye,o),{onValueNodeHasChildrenChange:u}=c,m=d!==void 0,h=O(n,c.onValueNodeChange);return K(()=>{u(m)},[u,m]),e.jsx(P.span,{...i,ref:h,style:{pointerEvents:"none"},children:mt(c.value)?e.jsx(e.Fragment,{children:s}):d})});qe.displayName=Ye;var so="SelectIcon",Xe=r.forwardRef((t,n)=>{const{__scopeSelect:o,children:a,...l}=t;return e.jsx(P.span,{"aria-hidden":!0,...l,ref:n,children:a||"â–¼"})});Xe.displayName=so;var ao="SelectPortal",Ze=t=>e.jsx(Mt,{asChild:!0,...t});Ze.displayName=ao;var te="SelectContent",Je=r.forwardRef((t,n)=>{const o=Y(te,t.__scopeSelect),[a,l]=r.useState();if(K(()=>{l(new DocumentFragment)},[]),!o.open){const d=a;return d?Fe.createPortal(e.jsx(Qe,{scope:t.__scopeSelect,children:e.jsx(pe.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),d):null}return e.jsx(et,{...t,ref:n})});Je.displayName=te;var D=10,[Qe,q]=ne(te),lo="SelectContentImpl",io=Pt("SelectContent.RemoveScroll"),et=r.forwardRef((t,n)=>{const{__scopeSelect:o,position:a="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:d,onPointerDownOutside:s,side:i,sideOffset:c,align:u,alignOffset:m,arrowPadding:h,collisionBoundary:p,collisionPadding:C,sticky:j,hideWhenDetached:f,avoidCollisions:v,...S}=t,x=Y(te,o),[b,$]=r.useState(null),[M,re]=r.useState(null),_=O(n,g=>$(g)),[k,z]=r.useState(null),[X,F]=r.useState(null),V=fe(o),[W,B]=r.useState(!1),H=r.useRef(!1);r.useEffect(()=>{if(b)return kt(b)},[b]),At();const E=r.useCallback(g=>{const[T,...R]=V().map(I=>I.ref.current),[y]=R.slice(-1),w=document.activeElement;for(const I of g)if(I===w||(I?.scrollIntoView({block:"nearest"}),I===T&&M&&(M.scrollTop=0),I===y&&M&&(M.scrollTop=M.scrollHeight),I?.focus(),document.activeElement!==w))return},[V,M]),A=r.useCallback(()=>E([k,b]),[E,k,b]);r.useEffect(()=>{W&&A()},[W,A]);const{onOpenChange:U,triggerPointerDownPosRef:G}=x;r.useEffect(()=>{if(b){let g={x:0,y:0};const T=y=>{g={x:Math.abs(Math.round(y.pageX)-(G.current?.x??0)),y:Math.abs(Math.round(y.pageY)-(G.current?.y??0))}},R=y=>{g.x<=10&&g.y<=10?y.preventDefault():b.contains(y.target)||U(!1),document.removeEventListener("pointermove",T),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",T),document.addEventListener("pointerup",R,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",R,{capture:!0})}}},[b,U,G]),r.useEffect(()=>{const g=()=>U(!1);return window.addEventListener("blur",g),window.addEventListener("resize",g),()=>{window.removeEventListener("blur",g),window.removeEventListener("resize",g)}},[U]);const[ge,le]=ht(g=>{const T=V().filter(w=>!w.disabled),R=T.find(w=>w.ref.current===document.activeElement),y=gt(T,g,R);y&&setTimeout(()=>y.ref.current.focus())}),xe=r.useCallback((g,T,R)=>{const y=!H.current&&!R;(x.value!==void 0&&x.value===T||y)&&(z(g),y&&(H.current=!0))},[x.value]),ve=r.useCallback(()=>b?.focus(),[b]),oe=r.useCallback((g,T,R)=>{const y=!H.current&&!R;(x.value!==void 0&&x.value===T||y)&&F(g)},[x.value]),ie=a==="popper"?Te:tt,se=ie===Te?{side:i,sideOffset:c,align:u,alignOffset:m,arrowPadding:h,collisionBoundary:p,collisionPadding:C,sticky:j,hideWhenDetached:f,avoidCollisions:v}:{};return e.jsx(Qe,{scope:o,content:b,viewport:M,onViewportChange:re,itemRefCallback:xe,selectedItem:k,onItemLeave:ve,itemTextRefCallback:oe,focusSelectedItem:A,selectedItemText:X,position:a,isPositioned:W,searchRef:ge,children:e.jsx(Lt,{as:io,allowPinchZoom:!0,children:e.jsx(Ot,{asChild:!0,trapped:x.open,onMountAutoFocus:g=>{g.preventDefault()},onUnmountAutoFocus:N(l,g=>{x.trigger?.focus({preventScroll:!0}),g.preventDefault()}),children:e.jsx(Ft,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:s,onFocusOutside:g=>g.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:e.jsx(ie,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:g=>g.preventDefault(),...S,...se,onPlaced:()=>B(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:N(S.onKeyDown,g=>{const T=g.ctrlKey||g.altKey||g.metaKey;if(g.key==="Tab"&&g.preventDefault(),!T&&g.key.length===1&&le(g.key),["ArrowUp","ArrowDown","Home","End"].includes(g.key)){let y=V().filter(w=>!w.disabled).map(w=>w.ref.current);if(["ArrowUp","End"].includes(g.key)&&(y=y.slice().reverse()),["ArrowUp","ArrowDown"].includes(g.key)){const w=g.target,I=y.indexOf(w);y=y.slice(I+1)}setTimeout(()=>E(y)),g.preventDefault()}})})})})})})});et.displayName=lo;var co="SelectItemAlignedPosition",tt=r.forwardRef((t,n)=>{const{__scopeSelect:o,onPlaced:a,...l}=t,d=Y(te,o),s=q(te,o),[i,c]=r.useState(null),[u,m]=r.useState(null),h=O(n,_=>m(_)),p=fe(o),C=r.useRef(!1),j=r.useRef(!0),{viewport:f,selectedItem:v,selectedItemText:S,focusSelectedItem:x}=s,b=r.useCallback(()=>{if(d.trigger&&d.valueNode&&i&&u&&f&&v&&S){const _=d.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),z=d.valueNode.getBoundingClientRect(),X=S.getBoundingClientRect();if(d.dir!=="rtl"){const w=X.left-k.left,I=z.left-w,Z=_.left-I,J=_.width+Z,be=Math.max(J,k.width),Se=window.innerWidth-D,ye=Ae(I,[D,Math.max(D,Se-be)]);i.style.minWidth=J+"px",i.style.left=ye+"px"}else{const w=k.right-X.right,I=window.innerWidth-z.right-w,Z=window.innerWidth-_.right-I,J=_.width+Z,be=Math.max(J,k.width),Se=window.innerWidth-D,ye=Ae(I,[D,Math.max(D,Se-be)]);i.style.minWidth=J+"px",i.style.right=ye+"px"}const F=p(),V=window.innerHeight-D*2,W=f.scrollHeight,B=window.getComputedStyle(u),H=parseInt(B.borderTopWidth,10),E=parseInt(B.paddingTop,10),A=parseInt(B.borderBottomWidth,10),U=parseInt(B.paddingBottom,10),G=H+E+W+U+A,ge=Math.min(v.offsetHeight*5,G),le=window.getComputedStyle(f),xe=parseInt(le.paddingTop,10),ve=parseInt(le.paddingBottom,10),oe=_.top+_.height/2-D,ie=V-oe,se=v.offsetHeight/2,g=v.offsetTop+se,T=H+E+g,R=G-T;if(T<=oe){const w=F.length>0&&v===F[F.length-1].ref.current;i.style.bottom="0px";const I=u.clientHeight-f.offsetTop-f.offsetHeight,Z=Math.max(ie,se+(w?ve:0)+I+A),J=T+Z;i.style.height=J+"px"}else{const w=F.length>0&&v===F[0].ref.current;i.style.top="0px";const Z=Math.max(oe,H+f.offsetTop+(w?xe:0)+se)+R;i.style.height=Z+"px",f.scrollTop=T-oe+f.offsetTop}i.style.margin=`${D}px 0`,i.style.minHeight=ge+"px",i.style.maxHeight=V+"px",a?.(),requestAnimationFrame(()=>C.current=!0)}},[p,d.trigger,d.valueNode,i,u,f,v,S,d.dir,a]);K(()=>b(),[b]);const[$,M]=r.useState();K(()=>{u&&M(window.getComputedStyle(u).zIndex)},[u]);const re=r.useCallback(_=>{_&&j.current===!0&&(b(),x?.(),j.current=!1)},[b,x]);return e.jsx(po,{scope:o,contentWrapper:i,shouldExpandOnScrollRef:C,onScrollButtonChange:re,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:$},children:e.jsx(P.div,{...l,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});tt.displayName=co;var uo="SelectPopperPosition",Te=r.forwardRef((t,n)=>{const{__scopeSelect:o,align:a="start",collisionPadding:l=D,...d}=t,s=me(o);return e.jsx(Vt,{...s,...d,ref:n,align:a,collisionPadding:l,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Te.displayName=uo;var[po,Me]=ne(te,{}),Ie="SelectViewport",ot=r.forwardRef((t,n)=>{const{__scopeSelect:o,nonce:a,...l}=t,d=q(Ie,o),s=Me(Ie,o),i=O(n,d.onViewportChange),c=r.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(pe.Slot,{scope:o,children:e.jsx(P.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:N(l.onScroll,u=>{const m=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=s;if(p?.current&&h){const C=Math.abs(c.current-m.scrollTop);if(C>0){const j=window.innerHeight-D*2,f=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),S=Math.max(f,v);if(S<j){const x=S+C,b=Math.min(j,x),$=x-b;h.style.height=b+"px",h.style.bottom==="0px"&&(m.scrollTop=$>0?$:0,h.style.justifyContent="flex-end")}}}c.current=m.scrollTop})})})]})});ot.displayName=Ie;var nt="SelectGroup",[fo,mo]=ne(nt),ho=r.forwardRef((t,n)=>{const{__scopeSelect:o,...a}=t,l=ue();return e.jsx(fo,{scope:o,id:l,children:e.jsx(P.div,{role:"group","aria-labelledby":l,...a,ref:n})})});ho.displayName=nt;var rt="SelectLabel",go=r.forwardRef((t,n)=>{const{__scopeSelect:o,...a}=t,l=mo(rt,o);return e.jsx(P.div,{id:l.id,...a,ref:n})});go.displayName=rt;var de="SelectItem",[xo,st]=ne(de),at=r.forwardRef((t,n)=>{const{__scopeSelect:o,value:a,disabled:l=!1,textValue:d,...s}=t,i=Y(de,o),c=q(de,o),u=i.value===a,[m,h]=r.useState(d??""),[p,C]=r.useState(!1),j=O(n,x=>c.itemRefCallback?.(x,a,l)),f=ue(),v=r.useRef("touch"),S=()=>{l||(i.onValueChange(a),i.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(xo,{scope:o,value:a,disabled:l,textId:f,isSelected:u,onItemTextChange:r.useCallback(x=>{h(b=>b||(x?.textContent??"").trim())},[]),children:e.jsx(pe.ItemSlot,{scope:o,value:a,disabled:l,textValue:m,children:e.jsx(P.div,{role:"option","aria-labelledby":f,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...s,ref:j,onFocus:N(s.onFocus,()=>C(!0)),onBlur:N(s.onBlur,()=>C(!1)),onClick:N(s.onClick,()=>{v.current!=="mouse"&&S()}),onPointerUp:N(s.onPointerUp,()=>{v.current==="mouse"&&S()}),onPointerDown:N(s.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:N(s.onPointerMove,x=>{v.current=x.pointerType,l?c.onItemLeave?.():v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:N(s.onPointerLeave,x=>{x.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:N(s.onKeyDown,x=>{c.searchRef?.current!==""&&x.key===" "||(eo.includes(x.key)&&S(),x.key===" "&&x.preventDefault())})})})})});at.displayName=de;var ae="SelectItemText",lt=r.forwardRef((t,n)=>{const{__scopeSelect:o,className:a,style:l,...d}=t,s=Y(ae,o),i=q(ae,o),c=st(ae,o),u=ro(ae,o),[m,h]=r.useState(null),p=O(n,S=>h(S),c.onItemTextChange,S=>i.itemTextRefCallback?.(S,c.value,c.disabled)),C=m?.textContent,j=r.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:C},c.value),[c.disabled,c.value,C]),{onNativeOptionAdd:f,onNativeOptionRemove:v}=u;return K(()=>(f(j),()=>v(j)),[f,v,j]),e.jsxs(e.Fragment,{children:[e.jsx(P.span,{id:c.textId,...d,ref:p}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Fe.createPortal(d.children,s.valueNode):null]})});lt.displayName=ae;var it="SelectItemIndicator",ct=r.forwardRef((t,n)=>{const{__scopeSelect:o,...a}=t;return st(it,o).isSelected?e.jsx(P.span,{"aria-hidden":!0,...a,ref:n}):null});ct.displayName=it;var Pe="SelectScrollUpButton",dt=r.forwardRef((t,n)=>{const o=q(Pe,t.__scopeSelect),a=Me(Pe,t.__scopeSelect),[l,d]=r.useState(!1),s=O(n,a.onScrollButtonChange);return K(()=>{if(o.viewport&&o.isPositioned){let i=function(){const u=c.scrollTop>0;d(u)};const c=o.viewport;return i(),c.addEventListener("scroll",i),()=>c.removeEventListener("scroll",i)}},[o.viewport,o.isPositioned]),l?e.jsx(pt,{...t,ref:s,onAutoScroll:()=>{const{viewport:i,selectedItem:c}=o;i&&c&&(i.scrollTop=i.scrollTop-c.offsetHeight)}}):null});dt.displayName=Pe;var _e="SelectScrollDownButton",ut=r.forwardRef((t,n)=>{const o=q(_e,t.__scopeSelect),a=Me(_e,t.__scopeSelect),[l,d]=r.useState(!1),s=O(n,a.onScrollButtonChange);return K(()=>{if(o.viewport&&o.isPositioned){let i=function(){const u=c.scrollHeight-c.clientHeight,m=Math.ceil(c.scrollTop)<u;d(m)};const c=o.viewport;return i(),c.addEventListener("scroll",i),()=>c.removeEventListener("scroll",i)}},[o.viewport,o.isPositioned]),l?e.jsx(pt,{...t,ref:s,onAutoScroll:()=>{const{viewport:i,selectedItem:c}=o;i&&c&&(i.scrollTop=i.scrollTop+c.offsetHeight)}}):null});ut.displayName=_e;var pt=r.forwardRef((t,n)=>{const{__scopeSelect:o,onAutoScroll:a,...l}=t,d=q("SelectScrollButton",o),s=r.useRef(null),i=fe(o),c=r.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return r.useEffect(()=>()=>c(),[c]),K(()=>{i().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[i]),e.jsx(P.div,{"aria-hidden":!0,...l,ref:n,style:{flexShrink:0,...l.style},onPointerDown:N(l.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(a,50))}),onPointerMove:N(l.onPointerMove,()=>{d.onItemLeave?.(),s.current===null&&(s.current=window.setInterval(a,50))}),onPointerLeave:N(l.onPointerLeave,()=>{c()})})}),vo="SelectSeparator",bo=r.forwardRef((t,n)=>{const{__scopeSelect:o,...a}=t;return e.jsx(P.div,{"aria-hidden":!0,...a,ref:n})});bo.displayName=vo;var Ee="SelectArrow",So=r.forwardRef((t,n)=>{const{__scopeSelect:o,...a}=t,l=me(o),d=Y(Ee,o),s=q(Ee,o);return d.open&&s.position==="popper"?e.jsx(Bt,{...l,...a,ref:n}):null});So.displayName=Ee;var yo="SelectBubbleInput",ft=r.forwardRef(({__scopeSelect:t,value:n,...o},a)=>{const l=r.useRef(null),d=O(a,l),s=zt(n);return r.useEffect(()=>{const i=l.current;if(!i)return;const c=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==n&&m){const h=new Event("change",{bubbles:!0});m.call(i,n),i.dispatchEvent(h)}},[s,n]),e.jsx(P.select,{...o,style:{...ze,...o.style},ref:d,defaultValue:n})});ft.displayName=yo;function mt(t){return t===""||t===void 0}function ht(t){const n=Dt(t),o=r.useRef(""),a=r.useRef(0),l=r.useCallback(s=>{const i=o.current+s;n(i),function c(u){o.current=u,window.clearTimeout(a.current),u!==""&&(a.current=window.setTimeout(()=>c(""),1e3))}(i)},[n]),d=r.useCallback(()=>{o.current="",window.clearTimeout(a.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(a.current),[]),[o,l,d]}function gt(t,n,o){const l=n.length>1&&Array.from(n).every(u=>u===n[0])?n[0]:n,d=o?t.indexOf(o):-1;let s=wo(t,Math.max(d,0));l.length===1&&(s=s.filter(u=>u!==o));const c=s.find(u=>u.textValue.toLowerCase().startsWith(l.toLowerCase()));return c!==o?c:void 0}function wo(t,n){return t.map((o,a)=>t[(n+a)%t.length])}var Co=We,jo=Ke,No=qe,To=Xe,Io=Ze,Po=Je,_o=ot,Eo=at,Ro=lt,Mo=ct,Do=dt,ko=ut;function Ao({...t}){return e.jsx(Co,{"data-slot":"select",...t})}function Lo({...t}){return e.jsx(No,{"data-slot":"select-value",...t})}function Oo({className:t,size:n="default",children:o,...a}){return e.jsxs(jo,{"data-slot":"select-trigger","data-size":n,className:L("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a,children:[o,e.jsx(To,{asChild:!0,children:e.jsx($e,{className:"size-4 opacity-50"})})]})}function Fo({className:t,children:n,position:o="popper",...a}){return e.jsx(Io,{children:e.jsxs(Po,{"data-slot":"select-content",className:L("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:o,...a,children:[e.jsx(Vo,{}),e.jsx(_o,{className:L("p-1",o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:n}),e.jsx(Bo,{})]})})}function ce({className:t,children:n,...o}){return e.jsxs(Eo,{"data-slot":"select-item",className:L("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...o,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(Mo,{children:e.jsx(Gt,{className:"size-4"})})}),e.jsx(Ro,{children:n})]})}function Vo({className:t,...n}){return e.jsx(Do,{"data-slot":"select-scroll-up-button",className:L("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(qt,{className:"size-4"})})}function Bo({className:t,...n}){return e.jsx(ko,{"data-slot":"select-scroll-down-button",className:L("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx($e,{className:"size-4"})})}function Ho(){const t=()=>{alert("AI Generation feature coming soon!")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"ai-model",children:"Select AI Model"}),e.jsxs(Ao,{children:[e.jsx(Oo,{id:"ai-model",className:"w-full mt-1",children:e.jsx(Lo,{placeholder:"Choose a model..."})}),e.jsxs(Fo,{children:[e.jsx(ce,{value:"midjourney",children:"Midjourney"}),e.jsx(ce,{value:"sora",children:"Sora"}),e.jsx(ce,{value:"suno",children:"Suno"}),e.jsx(ce,{value:"elevenlabs",children:"ElevenLabs"})]})]})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"generate-prompt",children:"Prompt"}),e.jsx(je,{id:"generate-prompt",rows:6,className:"mt-1",placeholder:"A futuristic cityscape at dusk, synthwave style..."})]}),e.jsx(Ce,{type:"button",onClick:t,className:"w-full",children:"Generate"})]})}var he="Tabs",[Uo,pn]=Ve(he,[Ue]),xt=Ue(),[$o,De]=Uo(he),vt=r.forwardRef((t,n)=>{const{__scopeTabs:o,value:a,onValueChange:l,defaultValue:d,orientation:s="horizontal",dir:i,activationMode:c="automatic",...u}=t,m=He(i),[h,p]=Ne({prop:a,onChange:l,defaultProp:d??"",caller:he});return e.jsx($o,{scope:o,baseId:ue(),value:h,onValueChange:p,orientation:s,dir:m,activationMode:c,children:e.jsx(P.div,{dir:m,"data-orientation":s,...u,ref:n})})});vt.displayName=he;var bt="TabsList",St=r.forwardRef((t,n)=>{const{__scopeTabs:o,loop:a=!0,...l}=t,d=De(bt,o),s=xt(o);return e.jsx(Ht,{asChild:!0,...s,orientation:d.orientation,dir:d.dir,loop:a,children:e.jsx(P.div,{role:"tablist","aria-orientation":d.orientation,...l,ref:n})})});St.displayName=bt;var yt="TabsTrigger",wt=r.forwardRef((t,n)=>{const{__scopeTabs:o,value:a,disabled:l=!1,...d}=t,s=De(yt,o),i=xt(o),c=Nt(s.baseId,a),u=Tt(s.baseId,a),m=a===s.value;return e.jsx(Ut,{asChild:!0,...i,focusable:!l,active:m,children:e.jsx(P.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":u,"data-state":m?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:c,...d,ref:n,onMouseDown:N(t.onMouseDown,h=>{!l&&h.button===0&&h.ctrlKey===!1?s.onValueChange(a):h.preventDefault()}),onKeyDown:N(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&s.onValueChange(a)}),onFocus:N(t.onFocus,()=>{const h=s.activationMode!=="manual";!m&&!l&&h&&s.onValueChange(a)})})})});wt.displayName=yt;var Ct="TabsContent",jt=r.forwardRef((t,n)=>{const{__scopeTabs:o,value:a,forceMount:l,children:d,...s}=t,i=De(Ct,o),c=Nt(i.baseId,a),u=Tt(i.baseId,a),m=a===i.value,h=r.useRef(m);return r.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),e.jsx($t,{present:l||m,children:({present:p})=>e.jsx(P.div,{"data-state":m?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...s,ref:n,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&d})})});jt.displayName=Ct;function Nt(t,n){return`${t}-trigger-${n}`}function Tt(t,n){return`${t}-content-${n}`}var zo=vt,Wo=St,Go=wt,Ko=jt;function Yo({className:t,...n}){return e.jsx(zo,{"data-slot":"tabs",className:L("flex flex-col gap-2",t),...n})}function qo({className:t,...n}){return e.jsx(Wo,{"data-slot":"tabs-list",className:L("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...n})}function Le({className:t,...n}){return e.jsx(Go,{"data-slot":"tabs-trigger",className:L("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}function Oe({className:t,...n}){return e.jsx(Ko,{"data-slot":"tabs-content",className:L("flex-1 outline-none",t),...n})}function Xo({onFileSelect:t}){return e.jsxs(Yo,{defaultValue:"upload",className:"w-full",children:[e.jsxs(qo,{className:"grid w-full grid-cols-2",children:[e.jsx(Le,{value:"upload",children:"Upload File"}),e.jsx(Le,{value:"generate",children:"Generate with AI"})]}),e.jsx(Oe,{value:"upload",className:"pt-6",children:e.jsx(Xt,{onFileSelect:t})}),e.jsx(Oe,{value:"generate",className:"pt-6",children:e.jsx(Ho,{})})]})}function Zo({data:t,onDataChange:n}){const o=a=>{n({...t,[a.target.name]:a.target.value})};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"title",className:"text-sm font-bold text-gray-300 mb-2 block",children:"Title"}),e.jsx(we,{type:"text",name:"title",id:"title",value:t.title||"",onChange:o,placeholder:"e.g., Cybernetic Serenity",required:!0,className:"h-11 px-4 bg-gray-900 border-gray-700 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"description",className:"text-sm font-bold text-gray-300 mb-2 block",children:"Description"}),e.jsx(je,{name:"description",id:"description",rows:4,value:t.description||"",onChange:o,className:"px-4 py-3 bg-gray-900 border-gray-700 rounded-lg"})]})]}),e.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Behind the Curtain"}),e.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Help the community learn by sharing your process."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"toolsUsed",className:"text-xs font-medium text-gray-400 mb-1 block",children:"Model / Tool Used"}),e.jsx(we,{type:"text",name:"toolsUsed",id:"toolsUsed",value:t.toolsUsed||"",onChange:o,placeholder:"e.g., Midjourney v6.0",className:"h-10 px-3 bg-gray-800 border-gray-700 rounded-lg text-sm"})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"promptDetails",className:"text-xs font-medium text-gray-400 mb-1 block",children:"Primary Prompt"}),e.jsx(je,{name:"promptDetails",id:"prompt-details",rows:3,value:t.promptDetails||"",onChange:o,placeholder:"The core prompt you used to generate the content.",className:"px-3 py-2 bg-gray-800 border-gray-700 rounded-lg text-sm"})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"parameters",className:"text-xs font-medium text-gray-400 mb-1 block",children:"Parameters & Settings"}),e.jsx(we,{type:"text",name:"parameters",id:"parameters",value:t.parameters||"",onChange:o,placeholder:"e.g., --ar 16:9 --style raw",className:"h-10 px-3 bg-gray-800 border-gray-700 rounded-lg text-sm"})]})]})]})]})}function Jo({mode:t,isLoading:n}){return e.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[e.jsx(Ce,{type:"submit",name:"action",value:"publish",disabled:n,className:"w-full h-12",children:n?"Processing...":t==="create"?"Publish Creation":"Save Changes"}),e.jsx(Ce,{type:"submit",name:"action",value:"draft",variant:"outline",disabled:n,className:"h-12 px-6",children:"Save Draft"})]})}function fn({mode:t="create",creationId:n=null}){const[o,a]=r.useState({}),[l,d]=r.useState(null),[s,i]=r.useState(t==="edit"),[c,u]=r.useState("");r.useEffect(()=>{t==="edit"&&n&&(async()=>{const{data:p,error:C}=await It.from("creations").select("*").eq("id",n).single();C?u("Could not fetch creation data."):p&&a({title:p.title,description:p.prompt,toolsUsed:p.tool}),i(!1)})()},[t,n]);const m=async h=>{h.preventDefault(),i(!0),u("");const p=h.nativeEvent.submitter.value;console.log(`Submitting for action: ${p}`),console.log("Form Data:",o),console.log("File:",l),setTimeout(()=>{alert(`Form submitted for action: "${p}"! Check the console for data.`),i(!1)},1500)};return s&&t==="edit"?e.jsx("p",{className:"text-center text-gray-400",children:"Loading editor..."}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 md:py-16",children:[e.jsxs("header",{className:"mb-12",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:t==="create"?"Share Your Creation":"Edit Your Creation"}),e.jsx("p",{className:"text-lg text-gray-400 mt-2",children:t==="create"?"Bring your AI-generated art to the community.":"Make changes and re-publish your work."})]}),e.jsxs("form",{onSubmit:m,className:"grid grid-cols-1 lg:grid-cols-5 gap-12",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsx(Xo,{onFileSelect:d})}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx(Zo,{data:o,onDataChange:a}),e.jsx(Jo,{mode:t,isLoading:s}),c&&e.jsx("p",{className:"mt-4 text-red-400",children:c})]})]})]})}export{fn as default};
